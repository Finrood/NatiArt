<div class="space-y-6" [formGroup]="profileForm">
  <div class="grid grid-cols-1 gap-6 md:grid-cols-2">

    <app-natiart-form-field label="First Name" controlName="firstname" [form]="profileForm">
      <input formControlName="firstname" autocomplete="given-name"
             class="w-full px-4 py-3 bg-surface rounded-lg border border-surface-variant focus:border-primary focus:ring-2 focus:ring-primary/30 placeholder:text-surface-contrast/50 transition-all">
    </app-natiart-form-field>

    <app-natiart-form-field label="Last Name" controlName="lastname" [form]="profileForm">
      <input formControlName="lastname" autocomplete="last-name"
             class="w-full px-4 py-3 bg-surface rounded-lg border border-surface-variant focus:border-primary focus:ring-2 focus:ring-primary/30 placeholder:text-surface-contrast/50 transition-all">
    </app-natiart-form-field>

    <app-natiart-form-field label="CPF" controlName="cpf" [form]="profileForm">
      <input formControlName="cpf" autocomplete="last-name"
             placeholder="000.000.000-00"
             cpfFormat
             class="w-full px-4 py-3 bg-surface rounded-lg border border-surface-variant focus:border-primary focus:ring-2 focus:ring-primary/30 placeholder:text-surface-contrast/50 transition-all">
    </app-natiart-form-field>

    <app-natiart-form-field label="Phone" controlName="phone" [form]="profileForm">
      <input formControlName="phone" autocomplete="phone"
             placeholder="(XX) XXXXX-XXXX"
             appPhoneFormatBrazil
             class="w-full px-4 py-3 bg-surface rounded-lg border border-surface-variant focus:border-primary focus:ring-2 focus:ring-primary/30 placeholder:text-surface-contrast/50 transition-all">
    </app-natiart-form-field>

    <app-natiart-form-field label="Zip Code" controlName="zipCode" [form]="profileForm">
      <input formControlName="zipCode" cepFormat (change)="onZipCodeChange()"
             placeholder="XXXXX-XXX"
             class="w-full px-4 py-3 bg-surface rounded-lg border border-surface-variant focus:border-primary focus:ring-2 focus:ring-primary/30 placeholder:text-surface-contrast/50 transition-all">
    </app-natiart-form-field>

    <app-natiart-form-field label="Country" controlName="country" [form]="profileForm">
      <input formControlName="country" readonly
             class="w-full px-4 py-3 bg-surface-variant rounded-lg border border-surface-variant text-surface-contrast/50 cursor-not-allowed">
    </app-natiart-form-field>

    <app-natiart-form-field label="State" controlName="state" [form]="profileForm">
      <input formControlName="state"
             class="w-full px-4 py-3 bg-surface rounded-lg border border-surface-variant focus:border-primary focus:ring-2 focus:ring-primary/30 placeholder:text-surface-contrast/50 transition-all">
    </app-natiart-form-field>

    <app-natiart-form-field label="City" controlName="city" [form]="profileForm">
      <input formControlName="city"
             class="w-full px-4 py-3 bg-surface rounded-lg border border-surface-variant focus:border-primary focus:ring-2 focus:ring-primary/30 placeholder:text-surface-contrast/50 transition-all">
    </app-natiart-form-field>

    <app-natiart-form-field label="Neighborhood" controlName="neighborhood" [form]="profileForm">
      <input formControlName="neighborhood"
             class="w-full px-4 py-3 bg-surface rounded-lg border border-surface-variant focus:border-primary focus:ring-2 focus:ring-primary/30 placeholder:text-surface-contrast/50 transition-all">
    </app-natiart-form-field>

    <app-natiart-form-field label="Street" controlName="street" [form]="profileForm">
      <input formControlName="street"
             class="w-full px-4 py-3 bg-surface rounded-lg border border-surface-variant focus:border-primary focus:ring-2 focus:ring-primary/30 placeholder:text-surface-contrast/50 transition-all">
    </app-natiart-form-field>
  </div>

  <app-natiart-form-field label="Address Complement" controlName="complement" [form]="profileForm">
    <input formControlName="complement"
           placeholder="Apartment, suite, unit, building, floor, etc."
           class="w-full px-4 py-3 bg-surface rounded-lg border border-surface-variant focus:border-primary focus:ring-2 focus:ring-primary/30 placeholder:text-surface-contrast/50 transition-all">
  </app-natiart-form-field>

  <div *ngIf="isLoadingAddress" class="text-center">
    <app-loading-spinner></app-loading-spinner>
    <p class="mt-2 text-sm text-surface-contrast/85">Loading address...</p>
  </div>

  <div class="flex gap-4">
    <button type="button" (click)="goBack()"
            class="flex-1 py-3 bg-surface-variant hover:bg-surface-variant/80 text-surface-contrast font-semibold rounded-lg transition-all transform hover:scale-[1.01]">
      ‚Üê Back
    </button>
    <button type="submit" [disabled]="profileForm.invalid"
            class="flex-1 py-3 bg-primary hover:bg-primary-dark text-primary-contrast font-semibold rounded-lg transition-all transform hover:scale-[1.01] disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed">
      Complete Registration
    </button>
  </div>
</div>
